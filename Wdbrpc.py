__author__ = 'qmwang'

import socket, sys
from scapy.utils import  hexdump

#host = '61.220.177.173'
#host = '192.168.102.88'
host = '219.148.128.237'
port = 17185
addr = (host, port)
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

senddata1 = bytes(bytearray([
    0x10, 0x0f, 0x96, 0x73, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x02, 0x55, 0x55, 0x55, 0x55,
    0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x04,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0x2f, 0x69, 0x00, 0x00, 0x00, 0x30,
    0x25, 0x00, 0x00, 0xb5]))

senddata2 = bytes(bytearray([
0xbc, 0x3d, 0x74, 0xc5, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x02, 0x55, 0x55, 0x55, 0x55,
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xff, 0xff, 0xf6, 0x7f, 0x00, 0x00, 0x00, 0x30,
0x5e, 0xa0, 0x00, 0x01]))

senddata3 = bytes(bytearray([0x0f, 0x99, 0x55, 0xc6, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x02, 0x55, 0x55, 0x55, 0x55,
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0a,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xff, 0xff, 0x4c, 0xf7, 0x00, 0x00, 0x00, 0x3c,
0x00, 0x00, 0x00, 0x05, 0x00, 0x10, 0x06, 0x00,
0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00]))

senddata4 = bytes(bytearray([
0xcb, 0x23, 0xeb, 0x9f, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x02, 0x55, 0x55, 0x55, 0x55,
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0a,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xff, 0xff, 0x40, 0xf8, 0x00, 0x00, 0x00, 0x3c,
0x00, 0x00, 0x00, 0x04, 0x00, 0x10, 0x12, 0x00,
0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00
]))

senddata5 = bytes(bytearray([
0xe0, 0x7b, 0xca, 0x60, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x02, 0x55, 0x55, 0x55, 0x55,
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0a,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xff, 0xff, 0x40, 0xf8, 0x00, 0x00, 0x00, 0x3c,
0x00, 0x00, 0x00, 0x04, 0x00, 0x10, 0x12, 0x00,
0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00
]))
data = senddata2
print "-------------send data:"
print hexdump(data)

sock.sendto(data, addr)


recvdata, addr = sock.recvfrom(4096)
print "-------------recv data:"
print hexdump(recvdata)
